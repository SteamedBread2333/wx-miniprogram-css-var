<!--index.wxml-->
<scroll-view class="scrollarea" scroll-y type="list" data-theme="{{pageTheme || currentTheme}}" style="{{inlineStyle}}">
  <view class="container">
    <view class="theme-demo">
      <h1 class="title">CSS变量主题切换</h1>
      
      <!-- 主题切换按钮 -->
      <view class="theme-switcher">
        <button class="theme-btn {{currentTheme === 'light' ? 'active' : ''}}" bindtap="switchTheme" data-theme="light">浅色主题</button>
        <button class="theme-btn {{currentTheme === 'dark' ? 'active' : ''}}" bindtap="switchTheme" data-theme="dark">深色主题</button>
        <button class="theme-btn {{currentTheme === 'custom' ? 'active' : ''}}" bindtap="switchThemeInline">行内样式主题</button>
      </view>
      
      <!-- 展示卡片 -->
      <view class="card">
        <h2 class="card-title">主题示例</h2>
        <p class="card-text">这是一段示例文本，展示主题切换时的文字颜色变化。</p>
        
        <!-- 按钮示例 -->
        <view class="button-group">
          <button class="primary-btn">主要按钮</button>
          <button class="secondary-btn">次要按钮</button>
        </view>
        
        <!-- 列表示例 -->
        <view class="list">
          <view class="list-item">列表项1</view>
          <view class="list-item">列表项2</view>
          <view class="list-item">列表项3</view>
        </view>
      </view>
      
      <!-- CSS变量说明 -->
      <view class="info-card">
        <h3 class="info-title">使用说明</h3>
        <p class="info-text">通过CSS变量定义不同主题的样式，使用data-theme属性切换主题。</p>
      </view>
      
      <!-- 弹框触发按钮 -->
      <view class="card">
        <button class="primary-btn" bindtap="showModal">打开自定义弹框</button>
      </view>
      
      <!-- 自定义组件示例 -->
      <view class="card">
        <h2 class="card-title">自定义组件示例</h2>
        <p class="card-text">下面的卡片是自定义组件，样式文件直接使用CSS变量，会自动应用当前主题。</p>
        
        <theme-card 
          title="主题卡片组件"
          content="这是一个自定义组件，样式文件直接使用CSS变量（如 var(--card-bg)、var(--text-color) 等），会根据当前主题自动应用对应的颜色。"
          bindtap="onCardTap"
        ></theme-card>
        
        <theme-card 
          title="另一个主题卡片"
          content="切换主题后，组件的样式会自动更新，无需修改组件代码。"
        ></theme-card>
      </view>
    </view>
  </view>
  
  <!-- 自定义弹框 -->
  <view class="modal-mask {{showModalFlag ? 'show' : ''}}" bindtap="hideModal">
    <view class="modal-content" data-theme="{{pageTheme || currentTheme}}" style="{{inlineStyle}}" catchtap="stopPropagation">
      <view class="modal-header">
        <text class="modal-title">自定义弹框</text>
        <text class="modal-close" bindtap="hideModal">×</text>
      </view>
      <view class="modal-body">
        <text class="modal-text">这是一个自定义弹框，会根据当前主题自动应用主题色。</text>
        <text class="modal-text">当前主题：{{currentTheme}}</text>
      </view>
      <view class="modal-footer">
        <button class="modal-btn modal-btn-cancel" bindtap="hideModal">取消</button>
        <button class="modal-btn modal-btn-confirm" bindtap="handleConfirm">确认</button>
      </view>
    </view>
  </view>
</scroll-view>
